<%= link_to history_house_shares_path(@house), class: 'history-icon' do %>
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="none" d="M0 0H24V24H0z"/><path d="M12 2c5.523 0 10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12h2c0 4.418 3.582 8 8 8s8-3.582 8-8-3.582-8-8-8C9.25 4 6.824 5.387 5.385 7.5H8v2H2v-6h2V6c1.824-2.43 4.729-4 8-4zm1 5v4.585l3.243 3.243-1.415 1.415L11 12.413V7h2z" fill="rgba(255,243,236,1)"/></svg>
<% end %>

 <h3 class="house-name" id="dashboard"> <%= @house.name %></h3>


<div class="dashboard">
  <div class="graph-container">
    <% @house.memberships.each do |membership| %>              <!-- Create Symbols -->
      <div class="graph-element">
        <div class="tube">
          <% @shares_all.each do |share| %>
            <% if share.paid != true %>
              <% if share.bill.house == @house %>
                <% share.bill.house == @house %>
                <% if membership.user == share.user %>
                    <% if @icon_names.include?(share.bill.category)%>
                      <div class="mt-1"> <%= image_tag @symbols_map[share.bill.category.to_sym], alt: "blue-logo", style: "width: 35px"%></div>
                  <% end %>
                <% end %>
              <% end %>
            <% end %>
          <% end %>
        </div>
          <!-- Create Name Below the Symbols -->
          <div class="graph-element-name"><%= membership.user.first_name %></div>
      </div>
    <% end %>
  </div>



  <!-- Button to payments or display of no shares -->

 <% if current_user.shares.where(bill: @house.bills) == [] %>
    <h6 class="notifications-title ml-5">Notifications</h6>
      <div class='notification-card'>
        <p class="mt-3 ml-2"> ðŸ˜¥ Your house has no bills yet. <br> Click on the plus button to start adding! ðŸŽ‰</p>
      </div>
  <% else %>
    <%= form_tag house_payments_path(@house) do %>
    <div class="d-flex justify-content-between">
      <h6 class="notifications-title">Notifications</h6>
      <%= button_tag :submit, class: 'even-up-button' do %>
        Get even &nbsp; <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path fill="none" d="M0 0h24v24H0z"/><path d="M22 10v10a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V10h20zm0-2H2V4a1 1 0 0 1 1-1h18a1 1 0 0 1 1 1v4zm-7 8v2h4v-2h-4z" fill="rgba(255,243,236,1)"/></svg>
      <% end  %>
    </div>
    <% end %>
  <% end %>

  <!-- List of all Shares of the current user -->
  <% @shares.each do |share| %>
    <% if share.bill.house == @house %>
      <% if share.paid != true %>
          <div class='notification-card'>
            <p class="due-date"> <%= share.bill.formated_due_date %></p>
            <div class="notification-row">
                <h4><%= link_to share.bill.name,  edit_house_bill_path(share.bill.house_id, share.bill_id) %></h4>
                <% if @icon_names.include?(share.bill.category)%>
                  <%= image_tag @icons_map[share.bill.category.to_sym], alt: "blue-logo", style: "width: 24px; margin-bottom: 0.8rem;" %>
                <% end %>
              <p class="share-amount"><%= humanized_money_with_symbol(share.amount) %></p>
            </div>
          </div>
      <% end %>
    <% end %>
  <% end %>

</div>

<div class="history">
<% @shares_all.each do |share| %>
  <% if share.bill.house == @house %>
    <% if share.paid %>
      <div class='notification-card'>
        <p class="text-muted mb-0"> <%= share.formated_paid_date %></p>
        <div class="notification-row">
            <h6>  <%= share.user.first_name %> has paid <br> <%= share.bill.name  %> </h6>
            <% if @icon_names.include?(share.bill.category)%>
              <%= image_tag @icons_map[share.bill.category.to_sym], alt: "blue-logo", style: "width: 24px; margin-bottom: 0.8rem;" %>
            <% end %>
          <p class="share-amount">+<%= humanized_money_with_symbol(share.amount, :symbol_position => :after) %></p>
        </div>
      </div>
    <% end %>
  <% end %>
<% end %>
</div>

<div class="my-5 py-5"></div>

<script>
  setTimeout(function(){
   window.location.reload(1);
}, 15000);
  console.log("hello")
</script>
